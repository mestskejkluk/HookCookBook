
<%= simple_form_for([@recipe, @step]) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <div class="form-inputs">
    <%= f.input :name %>
    <%= f.input :description %>
    <%= f.input :time %>
    <%= f.input :timer %>

  </div>
  <h4>Ingredients</h4>
  <div class="my-2" data-controller="nested-rondo" data-nested-rondo-field-class-value="ingredient-field">
    <div data-nested-rondo-target="fieldContain">
    <%= f.simple_fields_for :ingredients_steps do |step_ingredient_form| %>
      <%= render "ingredients_step_fields", f: step_ingredient_form %>
    <% end %>
  </div>
  <div class="links">
    <%= link_to_add_association "Add Ingredient", f, :ingredients_steps %>
  </div>
    <p> Haven't found your ingredient? Create it <%= link_to "here", new_ingredient_path, target: "_blank" %></p>
  </div>


  <div class="actions">
    <%= f.submit "Add Another Step", name: 'commit' %>
    <%= f.submit "Finish Recipe", name: 'commit' %>
  </div>


<% end %>
